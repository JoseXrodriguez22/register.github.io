<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Evidencia 04 | Tarea 01</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <div class="wrapper">
    <div class="title-text">
      <div class="title login">Formulario de inicio de sesión</div>
      <div class="title signup">Formulario de registro</div>
    </div>
    <div class="form-container">
      <div class="slide-controls">
        <input type="radio" name="slide" id="login" checked>
        <input type="radio" name="slide" id="signup">
        <label for="login" class="slide login">Acceso</label>
        <label for="signup" class="slide signup">registarse</label>
        <div class="slider-tab"></div>
      </div>
      <div class="form-inner">
        <form action="#" class="login">
          <div class="field">
            <input type="text" placeholder="Dirección de correo electrónico" id="email1" required>
          </div>
          <div class="field">
            <input type="password" placeholder="Clave" id="password1" required>
          </div>
          <div class="pass-link"><a href="#">Forgot password?</a></div>
          <div class="field btn">
            <div class="btn-layer"></div>
            <input type="submit" value="Acceso" id="ingresar1">
          </div>
          <div class="signup-link">¿No es un miembro? <a href=""> Regístrese ahora</a></div>
        </form>
        <form action="#" class="signup">
          <div class="field">
            <input type="text" placeholder="Dirección de correo electrónico" id="email2" required>
          </div>
          <div class="field">
            <input type="password" placeholder="Clave" id="password2" required>
          </div>
          <!--   <div class="field">
              <input type="password" placeholder="Confirm password" required>
            </div> -->
          <div class="field btn">
            <div class="btn-layer"></div>
            <input type="submit" value="Inscribirse" id="register">
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    const loginText = document.querySelector(".title-text .login");
    const loginForm = document.querySelector("form.login");
    const loginBtn = document.querySelector("label.login");
    const signupBtn = document.querySelector("label.signup");
    const signupLink = document.querySelector("form .signup-link a");
    signupBtn.onclick = (() => {
      loginForm.style.marginLeft = "-50%";
      loginText.style.marginLeft = "-50%";
    });
    loginBtn.onclick = (() => {
      loginForm.style.marginLeft = "0%";
      loginText.style.marginLeft = "0%";
    });
    signupLink.onclick = (() => {
      signupBtn.click();
      return false;
    });
  </script>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-analytics.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-auth.js";

    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyBLCB3UtrqNwO4IYKPr479oac6VGwvrNZE",
      authDomain: "striking-splice-344515.firebaseapp.com",
      projectId: "striking-splice-344515",
      storageBucket: "striking-splice-344515.appspot.com",
      messagingSenderId: "168628700798",
      appId: "1:168628700798:web:69d1d1ba824955ebdb7a2f",
      measurementId: "G-Y854HKN5V6"
    };

    // Initialize Firebase y autenticación
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const analytics = getAnalytics(app);

    document.getElementById("ingresar1").addEventListener("click", function () {
      const email1 = document.getElementById("email1").value;
      const password1 = document.getElementById("password1").value;

      createUserWithEmailAndPassword(auth, email1, password1)
        .then((userCredential) => {
          // Signed in
          const user = userCredential.user;
          // ...
          alert("Cuenta creada correctamente");
        })
        .catch((error) => {
          const errorCode = error.code;
          const errorMessage = error.message;
          // ..
          console.log("No se a podido crear la cuenta");

        });
    });

    // REGISTER
    document.getElementById("register").addEventListener("click", function () {
      const email2 = document.getElementById("email2").value;
      const password2 = document.getElementById("password2").value;

      signInWithEmailAndPassword(auth, email2, password2)
        .then((userCredential) => {
          // Signed in
          const user = userCredential.user;
          // ...
          alert("Has iniciado correctamente")
          window.open("https://www.google.com/search?q=google+fonts&rlz=1C1ONGR_esPE994PE994&oq=go&aqs=chrome.0.69i59j69i57j35i39j69i60l5.1067j0j7&sourceid=chrome&ie=UTF-8")
        })
        .catch((error) => {
          const errorCode = error.code;
          const errorMessage = error.message;
          alert("No se ha podido iniciar")
        });
    })





  </script>

</body>

</html>